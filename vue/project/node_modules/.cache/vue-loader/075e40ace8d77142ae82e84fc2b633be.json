{"remainingRequest":"C:\\笔记\\web\\vue\\project\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\笔记\\web\\vue\\project\\src\\components\\login\\Login.vue?vue&type=style&index=0&lang=css","dependencies":[{"path":"C:\\笔记\\web\\vue\\project\\src\\components\\login\\Login.vue","mtime":1539241285925},{"path":"C:\\笔记\\web\\vue\\project\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"C:\\笔记\\web\\vue\\project\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1521907989000},{"path":"C:\\笔记\\web\\vue\\project\\node_modules\\postcss-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\笔记\\web\\vue\\project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853417000},{"path":"C:\\笔记\\web\\vue\\project\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.mui-content{\n    margin-top:10px;\n}\n.mui-btn-primary{\n    display: block;\n    width:100%;\n    padding:10px 0;\n    font-size:18px;\n    margin-top:20px;\n}\n.link-area {\n    display: block;\n    margin-top: 25px;\n    text-align: center;\n}\n.spliter {\n    color: #bbb;\n    padding: 0px 8px;\n}\n",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src\\components\\login","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"header\">\r\n            <div class=\"top\">\r\n                <button @click=\"goMember()\" class=\"mui-icon-extra mui-icon-extra-arrowleftcricle\"></button>\r\n                账户登录\r\n                <button></button>\r\n            </div>\r\n        </div>\r\n        <div class=\"mui-content\">\r\n            <form id='login-form' class=\"mui-input-group\">\r\n                <div class=\"mui-input-row\">\r\n                    <label>账号</label>\r\n                    <input v-model='uname' id='account' type=\"text\" class=\"mui-input-clear mui-input\" placeholder=\"请输入账号\">\r\n                </div>\r\n                <div class=\"mui-input-row\">\r\n                    <label>密码</label>\r\n                    <input v-model=\"upwd\" id='password' type=\"password\" class=\"mui-input-clear mui-input\" placeholder=\"请输入密码\">\r\n                </div>\r\n            </form>\r\n            <div class=\"mui-content-padded\">\r\n                <button id='login' class=\"mui-btn-primary\" @click=\"getLogin\">登录</button>\r\n                <div class=\"link-area\">\r\n                    <a id='reg'>注册账号</a>\r\n                    <span class=\"spliter\">|</span>\r\n                    <a id='forgetPassword'>忘记密码</a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n    import {Toast} from \"mint-ui\";\r\n    export default{\r\n        data(){\r\n            return{\r\n                uname:'',\r\n                upwd:''\r\n            }\r\n        },\r\n        methods: {\r\n            goMember() {\r\n                this.$router.push({path: \"/member\"})\r\n            },\r\n            getLogin() {\r\n                var uname=this.uname\r\n                var upwd=this.upwd\r\n\r\n                // this.axios.get(\"http://127.0.0.1:3000/users/login\",{params:{uname:uname,upwd:upwd}}).then(res=>{\r\n                //     console.log(res)\r\n                //     if(res.data.code==1){   //返回成功数据\r\n                //                 this.$router.push({path: '/member'});\r\n                //                 // console.log(this.list);\r\n                //             }else{\r\n                //                     Toast(\"用户名或密码错误\");\r\n                //                     // this.uname='';\r\n                //                     // this.upwd='';\r\n                //             }\r\n                // })\r\n\r\n                // this.axios.post(\"http://127.0.0.1:3000/users/login\",this.qs.stringify({uname:uname,upwd:upwd}),{\r\n                //     headers:{\r\n                //         'content-Type':'application/x-www-form-urlencoded'\r\n                //     }\r\n                // })\r\n\r\n                this.axios({\r\n                    method:'post',\r\n                    url:'http://127.0.0.1:3000/users/login',\r\n                    data:this.qs.stringify({uname:uname,upwd:upwd})\r\n                }).then(function (res) {\r\n                    if(res.data.code==1){\r\n                        sessionStorage.setItem(\"uname\",res.data.uname);\r\n                        sessionStorage.setItem(\"avatar\",res.data.avatar);\r\n                        sessionStorage.setItem(\"email\",res.data.email);\r\n                        sessionStorage.setItem(\"phone\",res.data.phone);\r\n                        sessionStorage.setItem(\"user_name\",res.data.user_name);\r\n                        sessionStorage.setItem(\"gender\",res.data.gender);\r\n                        this.$router.push({path:'/member'})\r\n                    }else{\r\n                        Toast(\"用户名或密码错误\");\r\n                    }\r\n                }.bind(this))\r\n            }\r\n        }\r\n    }\r\n</script>\r\n<style>\r\n    .mui-content{\r\n        margin-top:10px;\r\n    }\r\n    .mui-btn-primary{\r\n        display: block;\r\n        width:100%;\r\n        padding:10px 0;\r\n        font-size:18px;\r\n        margin-top:20px;\r\n    }\r\n    .link-area {\r\n        display: block;\r\n        margin-top: 25px;\r\n        text-align: center;\r\n    }\r\n    .spliter {\r\n        color: #bbb;\r\n        padding: 0px 8px;\r\n    }\r\n</style>\r\n\r\n"]}]}