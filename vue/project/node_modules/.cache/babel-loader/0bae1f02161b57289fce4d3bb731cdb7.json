{"remainingRequest":"C:\\笔记\\vue\\project\\node_modules\\babel-loader\\lib\\index.js!C:\\笔记\\vue\\project\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\笔记\\vue\\project\\src\\components\\login\\Login.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\笔记\\vue\\project\\src\\components\\login\\Login.vue","mtime":1539241285925},{"path":"C:\\笔记\\vue\\project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853417000},{"path":"C:\\笔记\\vue\\project\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"C:\\笔记\\vue\\project\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { Toast } from \"mint-ui\";\nexport default {\n  data: function data() {\n    return {\n      uname: '',\n      upwd: ''\n    };\n  },\n  methods: {\n    goMember: function goMember() {\n      this.$router.push({\n        path: \"/member\"\n      });\n    },\n    getLogin: function getLogin() {\n      var uname = this.uname;\n      var upwd = this.upwd; // this.axios.get(\"http://127.0.0.1:3000/users/login\",{params:{uname:uname,upwd:upwd}}).then(res=>{\n      //     console.log(res)\n      //     if(res.data.code==1){   //返回成功数据\n      //                 this.$router.push({path: '/member'});\n      //                 // console.log(this.list);\n      //             }else{\n      //                     Toast(\"用户名或密码错误\");\n      //                     // this.uname='';\n      //                     // this.upwd='';\n      //             }\n      // })\n      // this.axios.post(\"http://127.0.0.1:3000/users/login\",this.qs.stringify({uname:uname,upwd:upwd}),{\n      //     headers:{\n      //         'content-Type':'application/x-www-form-urlencoded'\n      //     }\n      // })\n\n      this.axios({\n        method: 'post',\n        url: 'http://127.0.0.1:3000/users/login',\n        data: this.qs.stringify({\n          uname: uname,\n          upwd: upwd\n        })\n      }).then(function (res) {\n        if (res.data.code == 1) {\n          sessionStorage.setItem(\"uname\", res.data.uname);\n          sessionStorage.setItem(\"avatar\", res.data.avatar);\n          sessionStorage.setItem(\"email\", res.data.email);\n          sessionStorage.setItem(\"phone\", res.data.phone);\n          sessionStorage.setItem(\"user_name\", res.data.user_name);\n          sessionStorage.setItem(\"gender\", res.data.gender);\n          this.$router.push({\n            path: '/member'\n          });\n        } else {\n          Toast(\"用户名或密码错误\");\n        }\n      }.bind(this));\n    }\n  }\n};",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA,SAAA,KAAA,QAAA,SAAA;AACA,eAAA;AACA,MADA,kBACA;AACA,WAAA;AACA,aAAA,EADA;AAEA,YAAA;AAFA,KAAA;AAIA,GANA;AAOA,WAAA;AACA,YADA,sBACA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,cAAA;AAAA,OAAA;AACA,KAHA;AAIA,YAJA,sBAIA;AACA,UAAA,QAAA,KAAA,KAAA;AACA,UAAA,OAAA,KAAA,IAAA,CAFA,CAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;AAEA,WAAA,KAAA,CAAA;AACA,gBAAA,MADA;AAEA,aAAA,mCAFA;AAGA,cAAA,KAAA,EAAA,CAAA,SAAA,CAAA;AAAA,iBAAA,KAAA;AAAA,gBAAA;AAAA,SAAA;AAHA,OAAA,EAIA,IAJA,CAIA,UAAA,GAAA,EAAA;AACA,YAAA,IAAA,IAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA,yBAAA,OAAA,CAAA,OAAA,EAAA,IAAA,IAAA,CAAA,KAAA;AACA,yBAAA,OAAA,CAAA,QAAA,EAAA,IAAA,IAAA,CAAA,MAAA;AACA,yBAAA,OAAA,CAAA,OAAA,EAAA,IAAA,IAAA,CAAA,KAAA;AACA,yBAAA,OAAA,CAAA,OAAA,EAAA,IAAA,IAAA,CAAA,KAAA;AACA,yBAAA,OAAA,CAAA,WAAA,EAAA,IAAA,IAAA,CAAA,SAAA;AACA,yBAAA,OAAA,CAAA,QAAA,EAAA,IAAA,IAAA,CAAA,MAAA;AACA,eAAA,OAAA,CAAA,IAAA,CAAA;AAAA,kBAAA;AAAA,WAAA;AACA,SARA,MAQA;AACA,gBAAA,UAAA;AACA;AACA,OAZA,CAYA,IAZA,CAYA,IAZA,CAJA;AAiBA;AA3CA;AAPA,CAAA","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"header\">\r\n            <div class=\"top\">\r\n                <button @click=\"goMember()\" class=\"mui-icon-extra mui-icon-extra-arrowleftcricle\"></button>\r\n                账户登录\r\n                <button></button>\r\n            </div>\r\n        </div>\r\n        <div class=\"mui-content\">\r\n            <form id='login-form' class=\"mui-input-group\">\r\n                <div class=\"mui-input-row\">\r\n                    <label>账号</label>\r\n                    <input v-model='uname' id='account' type=\"text\" class=\"mui-input-clear mui-input\" placeholder=\"请输入账号\">\r\n                </div>\r\n                <div class=\"mui-input-row\">\r\n                    <label>密码</label>\r\n                    <input v-model=\"upwd\" id='password' type=\"password\" class=\"mui-input-clear mui-input\" placeholder=\"请输入密码\">\r\n                </div>\r\n            </form>\r\n            <div class=\"mui-content-padded\">\r\n                <button id='login' class=\"mui-btn-primary\" @click=\"getLogin\">登录</button>\r\n                <div class=\"link-area\">\r\n                    <a id='reg'>注册账号</a>\r\n                    <span class=\"spliter\">|</span>\r\n                    <a id='forgetPassword'>忘记密码</a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n    import {Toast} from \"mint-ui\";\r\n    export default{\r\n        data(){\r\n            return{\r\n                uname:'',\r\n                upwd:''\r\n            }\r\n        },\r\n        methods: {\r\n            goMember() {\r\n                this.$router.push({path: \"/member\"})\r\n            },\r\n            getLogin() {\r\n                var uname=this.uname\r\n                var upwd=this.upwd\r\n\r\n                // this.axios.get(\"http://127.0.0.1:3000/users/login\",{params:{uname:uname,upwd:upwd}}).then(res=>{\r\n                //     console.log(res)\r\n                //     if(res.data.code==1){   //返回成功数据\r\n                //                 this.$router.push({path: '/member'});\r\n                //                 // console.log(this.list);\r\n                //             }else{\r\n                //                     Toast(\"用户名或密码错误\");\r\n                //                     // this.uname='';\r\n                //                     // this.upwd='';\r\n                //             }\r\n                // })\r\n\r\n                // this.axios.post(\"http://127.0.0.1:3000/users/login\",this.qs.stringify({uname:uname,upwd:upwd}),{\r\n                //     headers:{\r\n                //         'content-Type':'application/x-www-form-urlencoded'\r\n                //     }\r\n                // })\r\n\r\n                this.axios({\r\n                    method:'post',\r\n                    url:'http://127.0.0.1:3000/users/login',\r\n                    data:this.qs.stringify({uname:uname,upwd:upwd})\r\n                }).then(function (res) {\r\n                    if(res.data.code==1){\r\n                        sessionStorage.setItem(\"uname\",res.data.uname);\r\n                        sessionStorage.setItem(\"avatar\",res.data.avatar);\r\n                        sessionStorage.setItem(\"email\",res.data.email);\r\n                        sessionStorage.setItem(\"phone\",res.data.phone);\r\n                        sessionStorage.setItem(\"user_name\",res.data.user_name);\r\n                        sessionStorage.setItem(\"gender\",res.data.gender);\r\n                        this.$router.push({path:'/member'})\r\n                    }else{\r\n                        Toast(\"用户名或密码错误\");\r\n                    }\r\n                }.bind(this))\r\n            }\r\n        }\r\n    }\r\n</script>\r\n<style>\r\n    .mui-content{\r\n        margin-top:10px;\r\n    }\r\n    .mui-btn-primary{\r\n        display: block;\r\n        width:100%;\r\n        padding:10px 0;\r\n        font-size:18px;\r\n        margin-top:20px;\r\n    }\r\n    .link-area {\r\n        display: block;\r\n        margin-top: 25px;\r\n        text-align: center;\r\n    }\r\n    .spliter {\r\n        color: #bbb;\r\n        padding: 0px 8px;\r\n    }\r\n</style>\r\n\r\n"],"sourceRoot":"src\\components\\login"}]}